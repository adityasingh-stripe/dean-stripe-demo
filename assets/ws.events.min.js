window.WSEvents=window.WSEvents||{FILTERS:{},ACTIONS:{},_add:function(n,i,t,o){var e="filter"==n?window.WSEvents.FILTERS:window.WSEvents.ACTIONS;o=o||10,i in e||(e[i]=[]),o in e[i]||(e[i][o]=[]),e[i][o].push({func:t,pri:o})},add_filter:function(n,i,t){WSEvents._add("filter",n,i,t)},add_action:function(n,i,t){WSEvents._add("action",n,i,t)},_do:function(n,i){var t,o="action"==n?window.WSEvents.ACTIONS:window.WSEvents.FILTERS,e=i[0];if(!(e in o))return i[1];[].shift.apply(i);for(var r in o[e])if(void 0!==(t=o[e][r]))for(var d in t){var f=t[d].func;if("function"==typeof f)try{"filter"===n?i[0]=f.apply(null,i):f.apply(null,i)}catch(n){console.log("Error occurred when processing "+e+" event in "+f.name+". Detail:"),console.log(n)}}return"filter"===n?i[0]:void 0},apply_filters:function(n,i,t){return WSEvents._do("filter",arguments)},do_action:function(n,i){WSEvents._do("action",arguments)}};