var SHR=SHR||{},WsVars,ga,pa;SHR.TrkLib={TrkItemIdFormat:"{HotelCode}|{RoomCode}|{RatePkgGrpSvcCode}|{Nights}|{adults}{children}",TrkItemNameFormat:"{HotelCode}:{RoomName}:{RatePkgGrpSvcName}:{Nights}:{adults}{children}",Init:function(n){var r=location,t=r.search.substring(1).split("&"),i=[];if(typeof history!="undefined"&&typeof history.replaceState!="undefined"){for(y in t)t[y].indexOf("lname=")!==0&&t[y].indexOf("key=")!==0&&i.push(t[y]);history.replaceState({},"",r.origin+r.pathname+"?"+i.join("&"))}jQuery(document).trigger("wsTrackInitStart",n);for(i in n)jQuery(document).trigger("wsTrackInitItem",n[i]);jQuery(document).trigger("wsTrackInitEnd");window.setTimeout(function(){SHR.TrkLib.PageView()},0)},PreAvailabilityRequest:function(n){jQuery(document).trigger("wsPreAvailabilityRequest",n)},PostAvailabilityResponse:function(n){jQuery(document).trigger("wsPostAvailabilityResponse",n)},ViewItem:function(n){jQuery(document).trigger("wsViewItem",n)},ViewItemList:function(n){jQuery(document).trigger("wsViewItemList",n)},SelectItem:function(n){jQuery(document).trigger("wsSelectItem",n)},SelectPromotion:function(n){jQuery(document).trigger("wsSelectPromotion",n)},Login:function(n){WSCCONSENT&&WSCCONSENT.hasOwnProperty("Consented")&&WSCCONSENT.Consented("Analytics")&&jQuery(document).trigger("wsLogin",n)},SignUp:function(n){jQuery(document).trigger("wsSignUp",n)},AddToCart:function(n){jQuery(document).trigger("wsAddToCart",n)},RemoveFromCart:function(n){jQuery(document).trigger("wsRemoveFromCart",n)},ViewCart:function(n){jQuery(document).trigger("wsViewCart",n)},SpendVirtualCurrency:function(n){jQuery(document).trigger("wsSpendVirtualCurrency",n)},ClearPurchaseData:function(){window.trkPurchaseData&&(window.postedTrkPurchaseData=jQuery.extend(!0,{},window.trkPurchaseData),window.trkPurchaseData={},WsVars.Step="7");const n=new URL(location);n.searchParams.set("ret","1");history.pushState({},"",n)},Purchase:function(n){let t=n;if((WsVars.Step=="5"||WsVars.Step=="6")&&t&&t.data&&t.data.length>0){for(i in t.data)t.data[i].resStatus==="C"?SHR.TrkLib.sendTrack(t.data[i].crsID+"cancel")&&jQuery(document).trigger("wsTrackRefund",t.data[i]):SHR.TrkLib.sendTrack(t.data[i].crsID)&&jQuery(document).trigger("wsTrackPurchase",t.data[i]);setTimeout(this.ClearPurchaseData,1e3)}},PageView:function(){var n;jQuery(document).trigger("wsTrackBegin");switch(WsVars.Step){case"0":if(WsVars&&WsVars.CartItems&&WsVars.CartItems.length>0)for(n in WsVars.CartItems)jQuery(document).trigger("wsTrackCartItem",WsVars.CartItems[n]);jQuery(document).trigger("wsTrackDefault");break;case"1":if(WsVars&&WsVars.CartItems&&WsVars.CartItems.length>0)for(n in WsVars.CartItems)jQuery(document).trigger("wsTrackCartItem",WsVars.CartItems[n]);jQuery(document).trigger("wsTrackIndex");break;case"2":if(WsVars&&WsVars.CartItems&&WsVars.CartItems.length>0)for(n in WsVars.CartItems)jQuery(document).trigger("wsTrackCartItem",WsVars.CartItems[n]);jQuery(document).trigger("wsTrackDetail");break;case"3":if(WsVars&&WsVars.CartItems&&WsVars.CartItems.length>0)for(n in WsVars.CartItems)jQuery(document).trigger("wsTrackCartItem",WsVars.CartItems[n]);jQuery(document).trigger("wsTrackCart");break;case"4":if(WsVars&&WsVars.CartItems&&WsVars.CartItems.length>0)for(n in WsVars.CartItems)jQuery(document).trigger("wsTrackCartItem",WsVars.CartItems[n]);jQuery(document).trigger("wsTrackCheckout");break;case"5":if(trkPurchaseData&&trkPurchaseData.data&&trkPurchaseData.data.length>0)for(n in trkPurchaseData.data)if(trkPurchaseData.data[n].resStatus==="C"){if(SHR.TrkLib.sendTrack(trkPurchaseData.data[n].crsID+"cancel")&&(jQuery(document).trigger("wsTrackRefund",trkPurchaseData.data[n]),WsVars&&WsVars.CartItems&&WsVars.CartItems.length>0)){let t=WsVars.CartItems.find(function(t){return t.CrsID==trkPurchaseData.data[n].crsID});t&&jQuery(document).trigger("wsTrackCancelItem",t)}}else if(SHR.TrkLib.sendTrack(trkPurchaseData.data[n].crsID)&&(jQuery(document).trigger("wsTrackPurchase",trkPurchaseData.data[n]),WsVars&&WsVars.CartItems&&WsVars.CartItems.length>0)){let t=WsVars.CartItems.find(function(t){return t.CrsID==trkPurchaseData.data[n].crsID});t&&jQuery(document).trigger("wsTrackConfirmItem",t)}jQuery(document).trigger("wsTrackConfirm");setTimeout(this.ClearPurchaseData,1e3);break;case"6":if(trkPurchaseData&&trkPurchaseData.data&&trkPurchaseData.data.length>0)for(n in trkPurchaseData.data)if(trkPurchaseData.data[n].resStatus==="C"&&SHR.TrkLib.sendTrack(trkPurchaseData.data[n].crsID+"cancel")&&(jQuery(document).trigger("wsTrackRefund",trkPurchaseData.data[n]),WsVars&&WsVars.CartItems&&WsVars.CartItems.length>0)){let t=WsVars.CartItems.find(function(t){return t.CrsID==trkPurchaseData.data[n].crsID});t&&jQuery(document).trigger("wsTrackCancelItem",t)}jQuery(document).trigger("wsTrackResAllCancelled");setTimeout(this.ClearPurchaseData,1e3);break;case"7":if(WsVars&&WsVars.CartItems&&WsVars.CartItems.length>0)for(n in WsVars.CartItems)WsVars.CartItems[n].Cancel!==""?SHR.TrkLib.sendTrack(WsVars.CartItems[n].CrsID+"cancel")&&jQuery(document).trigger("wsTrackCancelItem",WsVars.CartItems[n]):SHR.TrkLib.sendTrack(WsVars.CartItems[n].CrsID)&&jQuery(document).trigger("wsTrackLookupItem",WsVars.CartItems[n]);jQuery(document).trigger("wsTrackResLookup");break;case"8":if(WsVars&&WsVars.CartItems&&WsVars.CartItems.length>0)for(n in WsVars.CartItems)jQuery(document).trigger("wsTrackCartItem",WsVars.CartItems[n]);jQuery(document).trigger("wsTrackPassReset")}let t={hotelCode:WsVars.PCode,hotelName:WsVars.HotelName,roomCode:WsVars.RoomCode,roomName:WsVars.RoomType,rateCode:WsVars.RateCode,rateName:WsVars.RateType,pkgCode:WsVars.PkgCode,pkgName:WsVars.PkgName,grpCode:WsVars.GroupCode,grpName:WsVars.GroupName,dt1:WsVars.DayIn};WsVars.HgID>0&&(t.hgId=WsVars.HgID,WsVars.HotelGroupCode&&(t.hotelGroupCode=WsVars.HotelGroupCode));jQuery(document).trigger("wsTrackEnd",t)},currDomain:function(){var n=String(window.location.hostname);return n.length>=1?n.replace(/^www\./,""):"res.windsurfercrs.com"},currPage:function(){var n=String(window.location.pathname),t=WsVars.Step,i=!0;return arguments.length===1&&(i=arguments[0]),n.length<=0&&(n=""),i===!1&&t==="5"&&(t="7"),n+="?s="+t,n+="&h="+encodeURIComponent(WsVars.PCode),n+="&l="+encodeURIComponent(WsVars.LangCode),n+="&c="+encodeURIComponent(WsVars.ChainID),WsVars.BrandID&&(n+="&b="+encodeURIComponent(WsVars.BrandID)),n+"&_"},wCk:function(n,t,i){var u,r=new Date;i||(i=1);r.setTime(r.getTime()+i*864e5);u="; expires="+r.toGMTString();document.cookie=n+"="+t+u+"; path=/"},rCk:function(n){for(var i=0,t="",r=n+"=",u=document.cookie.split(";");i<u.length;i++){for(t=u[i];t.charAt(0)===" ";)t=t.substring(1,t.length);if(t.indexOf(r)===0)return t.substring(r.length,t.length)}return null},trackingTTL:14,sendTrack:function(n){return SHR.TrkLib.rCk("CrsID"+n)===n?!1:(SHR.TrkLib.wCk("CrsID"+n,n,SHR.TrkLib.trackingTTL),!0)},getInt:function(n){var t=parseInt(n);return isNaN(t)?0:t},getOcc:function(){var n=WsVars,t=0;return arguments.length===1&&(n=arguments[0]),n.hasOwnProperty("Adults")&&(t+=SHR.TrkLib.getInt(n.Adults)),n.hasOwnProperty("Child1")&&(t+=SHR.TrkLib.getInt(n.Child1)),n.hasOwnProperty("Child2")&&(t+=SHR.TrkLib.getInt(n.Child2)),n.hasOwnProperty("Child3")&&(t+=SHR.TrkLib.getInt(n.Child3)),n.hasOwnProperty("Child4")&&(t+=SHR.TrkLib.getInt(n.Child4)),t},getDate:function(n){var t=typeof n=="string"&&WsVars&&WsVars.DateFormat?new moment(n,WsVars.DateFormat.toUpperCase()):new moment(n);return t.isValid()?t.format("YYYY-MM-DD"):""},trkItemId:function(n){let i="",r="",u="";n.rateCode!=""&&typeof n.rateCode!="undefined"?i="R."+n.rateCode:n.pkgCode!=""&&typeof n.pkgCode!="undefined"?i="P."+n.pkgCode:n.grpCode!=""&&typeof n.grpCode!="undefined"?i="G."+n.grpCode:n.svcCode!=""&&typeof n.svcCode!="undefined"&&(i="S."+n.svcCode);n.dt1!=null&&n.dt1!=""&&typeof n.dt1!="undefined"&&SHR.TrkLib.isValidDateFormat(n.dt1)&&(r=n.dt1.replace(/[-/]/g,""));n.nights!=""&&typeof n.nights!="undefined"&&(u="N."+n.nights);let t="";n.child1>0&&(t="|C1."+n.child1);n.child2>0&&(t=t+"|C2."+n.child2);n.child3>0&&(t=t+"|C3."+n.child3);n.child4>0&&(t=t+"|C4."+n.child4);let f=SHR.TrkLib.TrkItemIdFormat.replace("{HotelCode}",n.hotelCode).replace("{RoomCode}",n.roomCode).replace("{RatePkgGrpSvcCode}",i).replace("{Nights}",u).replace("{CheckIn}",r).replace("{adults}","A."+n.adults).replace("{children}",t);return f.toUpperCase()},trkItemName:function(n){let i="",r="",u="";n.rateName!=""&&typeof n.rateName!="undefined"?i="R."+n.rateName:n.pkgName!=""&&typeof n.pkgName!="undefined"?i="P."+n.pkgName:n.grpName!=""&&typeof n.grpName!="undefined"?i="G."+n.grpName:n.svcName!=""&&typeof n.svcName!="undefined"&&(i="S."+n.svcName);n.dt1!=null&&n.dt1!=""&&typeof n.dt1!="undefined"&&SHR.TrkLib.isValidDateFormat(n.dt1)&&(r=n.dt1.replace(/[-/]/g,""));n.nights!=""&&typeof n.nights!="undefined"&&(u="N."+n.nights);let t="";n.child1>0&&(t=":C1."+n.child1);n.child2>0&&(t=t+":C2."+n.child2);n.child3>0&&(t=t+":C3."+n.child3);n.child4>0&&(t=t+":C4."+n.child4);return SHR.TrkLib.TrkItemNameFormat.replace("{HotelCode}",n.hotelCode).replace("{RoomName}",n.roomName).replace("{RatePkgGrpSvcName}",i).replace("{Nights}",u).replace("{CheckIn}",r).replace("{adults}","A."+n.adults).replace("{children}",t)},isValidDateFormat:function(n){let t=[/^\d{4}-\d{2}-\d{2}$/,/^\d{2}\/\d{2}\/\d{4}$/,/^\d{2}\/\d{2}\/\d{4}$/,/^\d{1,2}-\d{1,2}-\d{4}$/,/^\d{1,2}\/\d{1,2}\/\d{2}$/,/^\d{2}\/\d{2}\/\d{2}$/,/^\d{1,2}-\d{1,2}-\d{2}$/,/^\d{4}\/\d{2}\/\d{2}$/,/^\d{2}-\d{2}-\d{2}$/,/^\d{4}\s\d{2}\s\d{2}$/,/^\d{4}\-\d{2}\-\d{2}$/,/^\d{4}\/\d{2}\/\d{2}$/,/^\d{2}\-\d{2}\-\d{4}$/,/^\d{2}\/\d{2}\/\d{2}$/,/^\d{2}\.\d{2}\.\d{4}$/,/^\d{4}\-\d{1,2}\-\d{1,2}$/,/^\d{1,2}\-\d{1,2}\-\d{2}$/,/^\d{1,2}\/\d{1,2}\/\d{2}$/];if(n!=null&&n!=""&&typeof n!="undefined")for(let i of t)if(i.test(n))return!0;return!1},arrayUnique:function(n){for(var t,i=[],r=0,u=n&&n.length;r<u;r++)t=String(n[r]).trim(),i.indexOf(t)===-1&&t.length>0&&i.push(t);return i}},function(){jQuery(document).on("wsTrackInitItem",function(n,t){if(t.ExtSiteID===9&&(!WSCCONSENT||!WSCCONSENT.hasOwnProperty("Consented")||WSCCONSENT.Consented("Analytics")||WsVars.EnableCookieConsent!="true")){var i=t.Code.replace(/[ ;,\t|]/g," ").replace(/ +/g," ").replace(/^\s+|\s+$/g,"").split(" ");window.dataLayer=[];t.hasOwnProperty("Param2")&&t.Param2!=="";jQuery(document).on("wsTrackEnd",function(){for(z in i)(function(n,t,i,r,u){n[r]=n[r]||[];n[r].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var e=t.getElementsByTagName(i)[0],f=t.createElement(i),o=r!=="dataLayer"?"&l="+r:"";f.async=!0;f.src="https://www.googletagmanager.com/gtm.js?id="+u+o;e.parentNode.insertBefore(f,e)})(window,document,"script","dataLayer",i[z])})}})}(),function(n,t,i,r,u,f){jQuery(document).on("wsTrackInitEnd",function(){if(WsVars&&WsVars.SubChan==="GOO"&&(!WSCCONSENT||!WSCCONSENT.hasOwnProperty("Consented")||WSCCONSENT.Consented("Analytics")||WsVars.EnableCookieConsent!="true")){n[f]=n[f]||[];var e=function(){n[f].push(arguments)};jQuery(document).on("wsTrackConfirm",function(){e("event","conversion",{send_to:r+"/"+u,value:WsVars.Amount,currency:WsVars.Currency,transaction_id:WsVars.ResID,start_date:WsVars.YYYYMMDD1,end_date:WsVars.YYYYMMDD2})});jQuery(document).on("wsTrackEnd",function(){var u=t.getElementsByTagName(i)[0],n=t.createElement(i),o=f!=="dataLayer"?"&l="+f:"";n.async=!0;n.src="https://www.googletagmanager.com/gtag/js?id="+r+o;e("js",new Date);e("config",r);u.parentNode.insertBefore(n,u)})}})}(window,document,"script","AW-639705974","-dGaCJSVg9ABEPbGhLEC","gooSubchanDL"),function(){var n=!1;jQuery(document).on("wsTrackInitItem",function(t,i){if(!n&&i.ExtSiteID===10&&(!WSCCONSENT||!WSCCONSENT.hasOwnProperty("Consented")||WSCCONSENT.Consented("Analytics")||WsVars.EnableCookieConsent!="true")){!function(n,t,i,r,u,f,e){n.fbq||(u=n.fbq=function(){u.callMethod?u.callMethod.apply(u,arguments):u.queue.push(arguments)},n._fbq||(n._fbq=u),u.push=u,u.loaded=!0,u.version="2.0",u.queue=[],f=t.createElement(i),f.async=!0,f.src=r,e=t.getElementsByTagName(i)[0],e.parentNode.insertBefore(f,e))}(window,document,"script","https://connect.facebook.net/en_US/fbevents.js");jQuery(document).on("wsTrackBegin",function(){fbq("init",i.Code)});jQuery(document).on("wsTrackConfirm",function(){fbq("track","Purchase",{value:WsVars.Amount,currency:WsVars.Currency})});jQuery(document).on("wsTrackDefault wsTrackIndex wsTrackDetail wsTrackCart wsTrackCheckout wsTrackResLookup wsTrackPassReset",function(){fbq("track","PageView")});n=!0}})}(),function(){var t=function(n){var t=document.createElement("script");t.type="text/javascript";t.async=!0;t.src="https://beacon.sojern.com/pixel/cp/21?"+jQuery.param(n);(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(t)},n=function(n){var i={hpid:WsVars.HotelID,pt:n,hd1:WsVars.YYYYMMDD1,hd2:WsVars.YYYYMMDD2,hc1:"",hs1:"",hpr:WsVars.HotelName,hr:WsVars.Rooms,hc:WsVars.RoomType,t:SHR.TrkLib.getOcc(),hd:WsVars.Nights,hp:WsVars.Amount,hcu:WsVars.Currency,hconfno:WsVars.ResID,l:WsVars.LangCode,f_v:"cp_v1_js",p_v:"1"};try{i.hc1=WsVars.GeoAddr.split(",")[0];i.hs1=WsVars.GeoAddr.split(",")[1]}catch(r){}t(i)},i=function(n){var i={hpid:n.HotelID,pt:"CONVERSION",hd1:SHR.TrkLib.getDate(n.Dt1),hd2:SHR.TrkLib.getDate(n.Dt1+n.Nights),hc1:"",hs1:"",hpr:WsVars.HotelName,hr:1,hc:n.RoomType,t:SHR.TrkLib.getOcc(n),hd:n.Nights,hp:n.Amt,hcu:n.Currency,hconfno:n.ResID,l:WsVars.LangCode,f_v:"cp_v1_js",p_v:"1"};try{i.hc1=WsVars.GeoAddr.split(",")[0];i.hs1=WsVars.GeoAddr.split(",")[1]}catch(r){}t(i)};jQuery(document).on("wsTrackInitItem",function(t,i){if(i.ExtSiteID===11){jQuery(document).on("wsTrackDefault",function(){n("SEARCH")});jQuery(document).on("wsTrackIndex",function(){n("SEARCH")});jQuery(document).on("wsTrackDetail",function(){n("PRODUCT")});jQuery(document).on("wsTrackCart wsTrackCheckout",function(){n("SHOPPING_CART")});jQuery(document).on("wsTrackConfirm",function(){n("CONVERSION")})}})}(),function(){var n=function(n,t){if(t.hasOwnProperty("CrsID")&&t.CrsID!==""){var i={accountCode:"",bookingNo:"",hotelCode:t.HotelID,roomTypeName:"",roomTypeCode:"",ratePlanName:"",ratePlanCode:"",checkInDate:"",checkOutDate:"",guests:"",rooms:"",netAmount:"",totalAmount:"",currency:""},r={bookingNo:t.CrsID,roomTypeName:t.RoomType,roomTypeCode:t.RoomCode,ratePlanName:t.RateType,ratePlanCode:t.RateCode,checkInDate:SHR.TrkLib.getDate(t.Dt1),checkOutDate:SHR.TrkLib.getDate(t.Dt1+t.Nights),guests:SHR.TrkLib.getOcc(t),rooms:1,netAmount:t.Amt,totalAmount:t.Amt+t.Taxes,currency:t.Currency};jQuery('<img height="1" width="1" style="border-style:none;display:none;" alt=""/>').attr("src","https://linkcenterus.derbysoftca.com/dplatform-linkcenter/trackBooking?"+jQuery.param(jQuery.extend({},i,n,r))).appendTo("body")}};jQuery(document).on("wsTrackInitItem",function(t,i){if(i.ExtSiteID===12){var r={accountCode:i.Code};i.Param1.length>0&&(r.hotelCode=i.Param1);jQuery(document).on("wsTrackConfirmItem",function(t,i){n(r,i)})}})}();SHR.TrkLib.GA4EnhIDs=[];SHR.TrkLib.GA4Enh=function(n,t,i,r,u){var e=this,a=function(){return window.location.protocol+"//"+SHR.TrkLib.currDomain()+SHR.TrkLib.currPage()},c=[],h=[],s="shrDataLayer",o=function(){arguments&&(arguments[0]!="consent"&&arguments[1]!="ads_data_redaction"&&WSCCONSENT&&WSCCONSENT.hasOwnProperty("Consented")&&!WSCCONSENT.Consented("Analytics")&&WsVars.EnableCookieConsent=="true"||window[s].push(arguments))},l=function(n,t){var i=c,r={linker:{accept_incoming:!0}},u;if(Array.isArray(i)||(i=[i]),i&&i.length>0&&(r.linker.domains=i),t===!0&&(r.page_location=a(),r.page_path=SHR.TrkLib.currPage()),n)o("config",n,r);else for(u of Object.keys(r))o("set",u,r[u])},f={search:function(n,t){return{"search-term":Utils.Format("affiliation:{0},coupon:{1},dimension1:{2},dimension6:{11},checkin:{3},checkout:{4},nights:{5},adults:{6},child1:{7},child2:{8},child3:{9},child4:{10}",t.hotelId,t.coupon,t.hotelName,SHR.TrkLib.getDate(t.checkInDate),SHR.TrkLib.getDate(t.checkOutDate),t.nights,SHR.TrkLib.getInt(t.adults),SHR.TrkLib.getInt(t.child1),SHR.TrkLib.getInt(t.child2),SHR.TrkLib.getInt(t.child3),SHR.TrkLib.getInt(t.child4),t.abSetting)}},view_item_mandatory:function(n,t){return{currency:t.currency,value:Utils.ToNumberFormat(Math.round(t.price),t.currency)}},view_item:function(n,t){return{dimension1:t.hotelName,dimension4:SHR.TrkLib.getDate(t.dt1),dimension6:t.abSetting,metric1:SHR.TrkLib.getInt(t.nights),metric2:SHR.TrkLib.getInt(t.adults),metric3:SHR.TrkLib.getInt(t.child1),metric4:SHR.TrkLib.getInt(t.child2),metric5:SHR.TrkLib.getInt(t.child3),metric6:SHR.TrkLib.getInt(t.child4)}},view_item_items:function(n,t){var r=[],i,u;for(let n in t.eventItems)i=t.eventItems[n],u={item_id:SHR.TrkLib.trkItemId(i),item_name:SHR.TrkLib.trkItemName(i),affiliation:t.hotelId,coupon:t.coupon,index:i.index,item_list_id:i.itemListId,item_list_name:"",item_category:t.category,item_category2:"",item_category3:"",item_brand:t.hotelCode,location_id:t.hotelId,price:Utils.ToNumberFormat(i.price,i.currency),quantity:1,rate_type:i.rateName,room_type:i.roomName},r.push(u);return{items:r}},select_item_mandatory:function(n,t){return{item_list_id:t.itemListId,item_list_name:""}},select_item:function(n,t){return{dimension1:t.hotelName,dimension2:t.roomName,dimension3:t.rateName,dimension4:SHR.TrkLib.getDate(t.dt1),dimension6:t.abSetting,metric1:SHR.TrkLib.getInt(t.nights),metric2:SHR.TrkLib.getInt(t.adults),metric3:SHR.TrkLib.getInt(t.child1),metric4:SHR.TrkLib.getInt(t.child2),metric5:SHR.TrkLib.getInt(t.child3),metric6:SHR.TrkLib.getInt(t.child4)}},select_item_items:function(n,t){var i=Number(t.price,t.currency);return{items:[{item_id:SHR.TrkLib.trkItemId(t),item_name:SHR.TrkLib.trkItemName(t),affiliation:t.hotelId,coupon:t.coupon,index:t.index,item_list_id:t.itemListId,item_list_name:"",item_category:t.category,item_category2:"",item_category3:"",item_brand:t.hotelCode,location_id:t.hotelId,price:Utils.ToNumberFormat(i,t.currency),quantity:1,rate_type:t.rateName?t.rateName:t.pkgName?t.pkgName:t.grpName,room_type:t.roomName}]}},select_promotion_mandatory:function(n,t){return{creative_name:t.rateName,creative_slot:"",promotion_id:t.rcid,promotion_name:t.rateName}},select_promotion:function(n,t){return{dimension1:t.hotelName,dimension2:t.roomName,dimension3:t.rateName,dimension4:SHR.TrkLib.getDate(t.dt1),dimension6:t.abSetting,metric1:SHR.TrkLib.getInt(t.nights),metric2:SHR.TrkLib.getInt(t.adults),metric3:SHR.TrkLib.getInt(t.child1),metric4:SHR.TrkLib.getInt(t.child2),metric5:SHR.TrkLib.getInt(t.child3),metric6:SHR.TrkLib.getInt(t.child4)}},select_promotion_items:function(n,t){var i=Number(t.price,t.currency);return{items:[{item_id:SHR.TrkLib.trkItemId(t),item_name:SHR.TrkLib.trkItemName(t),affiliation:t.hotelId,coupon:t.rateCode,index:t.index,item_list_id:t.itemListId,item_list_name:"",item_category:t.category,item_category2:"",item_category3:"",item_brand:t.hotelCode,location_id:t.hotelId,price:i,quantity:1,rate_type:t.rateName,room_type:t.roomName}]}},view_cart_mandatory:function(n,t){var i,r;let u=0;if(t.data.length>0)for(let n in t.data){i=t.data[n];for(let n in i.svcs)r=i.svcs[n],u+=r.Amt-r.TaxVAT}return{currency:t.currency,value:Utils.ToNumberFormat(t.price+u,t.currency)}},view_cart:function(n,t){var i,r;if(t.data.length>0){addons=[];for(let n in t.data){i=t.data[n];for(let n in i.svcs)r=i.svcs[n],addons.push(r.Name)}return{dimension1:t.hotelName,dimension5:"|"+SHR.TrkLib.arrayUnique(addons).join("|")+"|",dimension6:t.abSetting}}},view_cart_items:function(n,t){var r=[],i,u;if(t.data.length>0)for(let n in t.data)i=t.data[n],u={item_id:SHR.TrkLib.trkItemId(i),item_name:SHR.TrkLib.trkItemName(i),coupon:i.coupon,discount:i.discount,index:i.index,item_brand:i.hotelCode,item_category:"Room Rate",item_category2:"",item_category3:"",item_category4:"",item_category5:"",item_list_id:"cart_room_rate",item_list_name:"",location_id:t.hotelId,price:Utils.ToNumberFormat(i.price,t.currency),quantity:1,rate_type:i.pkgName?i.pkgName:i.grpName?i.grpName:i.rateName,room_type:i.roomName},r.push(u);return{items:r}},view_item_list_mandatory:function(n,t){return{item_list_id:t.itemListId}},view_item_list:function(n,t){return{dimension1:t.hotelName,dimension4:SHR.TrkLib.getDate(t.dt1),dimension6:t.abSetting,metric1:SHR.TrkLib.getInt(t.nights),metric2:SHR.TrkLib.getInt(t.adults),metric3:SHR.TrkLib.getInt(t.child1),metric4:SHR.TrkLib.getInt(t.child2),metric5:SHR.TrkLib.getInt(t.child3),metric6:SHR.TrkLib.getInt(t.child4)}},view_item_list_items:function(n,t){var r=[],i,u;for(let n in t.data)i=t.data[n],u={item_id:SHR.TrkLib.trkItemId(i),item_name:SHR.TrkLib.trkItemName(i),coupon:i.coupon,index:i.index,item_brand:t.hotelCode,item_category:"Room Rate",item_category2:"",item_category3:"",item_category4:"",item_category5:"",item_list_id:t.itemListId,item_list_name:"",price:Utils.ToNumberFormat(i.price,t.currency),quantity:1,location_id:t.hotelId,rate_type:i.rateName?i.rateName:i.pkgName?i.pkgName:i.grpName,room_type:i.roomName},r.push(u);return{items:r}},remove_from_cart_mandatory:function(n,t){let i=0;return typeof t.addonAmt!="undefined"&&t.addonAmt>0&&(i=t.addonAmt),{currency:t.currency,value:Utils.ToNumberFormat(t.price+i,t.currency)}},remove_from_cart:function(n,t){return{dimension1:t.hotelName,dimension2:t.roomName,dimension3:t.rateName,dimension4:SHR.TrkLib.getDate(t.dt1),dimension6:t.abSetting,metric1:SHR.TrkLib.getInt(t.nights),metric2:SHR.TrkLib.getInt(t.adults),metric3:SHR.TrkLib.getInt(t.child1),metric4:SHR.TrkLib.getInt(t.child2),metric5:SHR.TrkLib.getInt(t.child3),metric6:SHR.TrkLib.getInt(t.child4)}},remove_from_cart_items:function(n,t){var i=Number(t.price,t.currency);return{items:[{item_id:SHR.TrkLib.trkItemId(t),item_name:SHR.TrkLib.trkItemName(t),affiliation:t.hotelId,coupon:t.coupon,index:t.index,item_list_id:t.itemListId,item_list_name:"",item_category:t.category,item_category2:"",item_category3:"",item_brand:t.hotelCode,location_id:t.hotelId,price:Utils.ToNumberFormat(i,t.currency),quantity:typeof t.quantity!="undefined"&&t.quantity>0?t.quantity:1,rate_type:t.rateName,room_type:t.roomName}]}},add_to_cart_mandatory:function(n,t){let i=0;return typeof t.addonAmt!="undefined"&&t.addonAmt>0&&(i=t.addonAmt),{currency:t.currency,value:Utils.ToNumberFormat(t.price+i,t.currency)}},add_to_cart:function(n,t){return{dimension1:t.hotelName,dimension2:t.roomName,dimension3:t.rateName,dimension4:SHR.TrkLib.getDate(t.dt1),dimension6:t.abSetting,metric1:SHR.TrkLib.getInt(t.nights),metric2:SHR.TrkLib.getInt(t.adults),metric3:SHR.TrkLib.getInt(t.child1),metric4:SHR.TrkLib.getInt(t.child2),metric5:SHR.TrkLib.getInt(t.child3),metric6:SHR.TrkLib.getInt(t.child4)}},add_to_cart_items:function(n,t){var i=Number(t.price,t.currency);return{items:[{item_id:SHR.TrkLib.trkItemId(t),item_name:SHR.TrkLib.trkItemName(t),affiliation:t.hotelId,coupon:t.coupon,index:t.index,item_list_id:t.itemListId,item_list_name:"",item_category:t.category,item_category2:"",item_category3:"",item_brand:t.hotelCode,location_id:t.hotelId,price:Utils.ToNumberFormat(i,t.currency),quantity:typeof t.quantity!="undefined"&&t.quantity>0?t.quantity:1,rate_type:t.rateName?t.rateName:t.pkgName?t.pkgName:t.grpName,room_type:t.roomName}]}},login:function(n,t){return{method:t.provider}},sign_up:function(n,t){return{method:t.provider}},spend_virtual_currency:function(n,t){return{value:t.value,virtual_currency_name:"POINTS",item_name:t.itemName}},purchase:function(n,t){var i=t,r=[],u;for(let n in i.purchaseSvcs)u=i.purchaseSvcs[n],r.push(u.Name);return{affiliation:t.hotelId,coupon:t.coupon,dimension1:t.hotelName,dimension2:t.roomName,dimension3:t.rateName,dimension4:t.dt1,dimension5:"|"+SHR.TrkLib.arrayUnique(r).join("|")+"|",dimension6:t.abSetting,metric1:SHR.TrkLib.getInt(t.nights),metric2:SHR.TrkLib.getInt(t.adults),metric3:SHR.TrkLib.getInt(t.child1),metric4:SHR.TrkLib.getInt(t.child2),metric5:SHR.TrkLib.getInt(t.child3),metric6:SHR.TrkLib.getInt(t.child4)}},purchase_mandatory:function(n,t){var u,r,i;if(!t)return{};u=t.price*100;r=t.tax;for(z in t.purchaseSvcs)if(i=t.purchaseSvcs[z],!i.Inc){let n=Number(i.Amt-i.TaxVAT);u+=Number(n);r+=i.TaxVAT+i.Tax}return{transaction_id:t.crsID,currency:t.currency.toUpperCase(),shipping:0,value:Utils.ToNumberFormat(u/100,t.currency),tax:r>0?Utils.ToNumberFormat(r/100,t.currency):0}},purchase_items:function(n,t){return{items:e.CartItem(n,t)}},refund:function(n,t){var i=t,r=[],u;for(let n in i.purchaseSvcs)u=i.purchaseSvcs[n],r.push(u.Name);return{affiliation:t.hotelId,coupon:t.coupon,dimension1:t.hotelName,dimension2:t.roomName,dimension3:t.rateName,dimension4:SHR.TrkLib.getDate(t.dt1),dimension5:"|"+SHR.TrkLib.arrayUnique(r).join("|")+"|",dimension6:t.abSetting,metric1:SHR.TrkLib.getInt(t.nights),metric2:SHR.TrkLib.getInt(t.adults),metric3:SHR.TrkLib.getInt(t.child1),metric4:SHR.TrkLib.getInt(t.child2),metric5:SHR.TrkLib.getInt(t.child3),metric6:SHR.TrkLib.getInt(t.child4)}},refund_mandatory:function(n,t){var u,r,i;if(!t)return{};u=t.price*100;r=t.tax;for(z in t.purchaseSvcs)if(i=t.purchaseSvcs[z],!i.Inc){let n=Number(i.Amt-i.TaxVAT);u+=Number(n);r+=i.TaxVAT+i.Tax}return{transaction_id:t.crsID,currency:t.currency.toUpperCase(),shipping:0,value:Utils.ToNumberFormat(u/100,t.currency),tax:r>0?Utils.ToNumberFormat(r/100,t.currency):0}},refund_items:function(n,t){return{items:e.CartItem(n,t)}},items_roomstay:function(n,t){return{item_id:SHR.TrkLib.trkItemId(t),item_name:SHR.TrkLib.trkItemName(t),coupon:t.coupon,index:0,item_brand:t.hotelCode,item_category:"Room Rate",item_category2:"",item_category3:"",item_category4:"",item_category5:"",item_list_id:t.itemListId,item_list_name:"",price:Utils.ToNumberFormat(t.price,t.currency),quantity:1,location_id:t.hotelId,rate_type:t.rateName?t.rateName:t.pkgName?t.pkgName:t.grpName,room_type:t.roomName}},items_roomstay_mandatory:function(n,t){return{item_id:SHR.TrkLib.trkItemId(t),price:Utils.ToNumberFormat(t.price,t.currency),quantity:1}},items_addon:function(n,t,i){return{item_name:t.hotelId+": "+i.Name,item_list_name:"Addons",item_category:t.hotelId,item_brand:"Addon",item_variant:i.Name,dimension1:WsVars.HotelName,dimension2:"Addon",dimension3:i.Name,dimension4:SHR.TrkLib.getDate(i.Dates.length>0?i.Dates[0].Dt:t.dt1),dimension6:t.abSetting,metric1:i.Dates.length,metric2:SHR.TrkLib.getInt(t.adults),metric3:SHR.TrkLib.getInt(t.child1)+SHR.TrkLib.getInt(t.child2)+SHR.TrkLib.getInt(t.child3)+SHR.TrkLib.getInt(t.child4)}},items_addon_mandatory:function(n,t,i){return{item_id:t.hotelId+"_"+i.SvcID,price:Number(i.Amt)/Number(i.Qty),quantity:SHR.TrkLib.getInt(i.Qty)}}};this.CartPID=function(n){var t=[n.hotelId,n.roomCode,n.rateCode,SHR.TrkLib.getDate(n.dt1).replace(/-/g,""),n.nights,SHR.TrkLib.getInt(n.adults).toString()+"."+SHR.TrkLib.getInt(n.child1).toString()+"."+SHR.TrkLib.getInt(n.child2).toString()+"."+SHR.TrkLib.getInt(n.child3).toString()+"."+SHR.TrkLib.getInt(n.child4).toString()];return t.join("_")};this.CartItem=function(n,t){var u=t,e;if(!t.hotelId||!u.roomCode||!u.rateCode&&!u.pkgCode&&!u.grpCode)return[];var o=[],i={},r={};f.hasOwnProperty("items_roomstay_mandatory")&&(r=f.items_roomstay_mandatory,typeof r=="function"&&(r=r(n,u)));f.hasOwnProperty("items_roomstay")&&(i=f.items_roomstay,typeof i=="function"&&(i=i(n,u)));o.push(jQuery.extend(i,r));for(let s in u.purchaseSvcs)(e=u.purchaseSvcs[s],t.hotelId&&e.SvcID)&&(r={},i={},f.hasOwnProperty("items_addon_mandatory")&&(r=f.items_addon_mandatory,typeof r=="function"&&(r=r(n,t,e))),f.hasOwnProperty("items_addon")&&(i=f.items_addon,typeof i=="function"&&(i=i(n,t,e))),o.push(jQuery.extend(i,r)));return o};this.SendEvent=function(n,t){if(!WSCCONSENT||!WSCCONSENT.hasOwnProperty("Consented")||WSCCONSENT.Consented("Analytics")||WsVars.EnableCookieConsent!="true"){var i={},r={},u={};f.hasOwnProperty(n+"_mandatory")&&(r=f[n+"_mandatory"],typeof r=="function"&&(r=r(n,t)));f.hasOwnProperty(n)&&(i=f[n],typeof i=="function"&&(i=i(n,t)));f.hasOwnProperty(n+"_items")&&(u=f[n+"_items"],typeof u=="function"&&(u=u(n,t)));o("event",n,jQuery.extend(i,r,u))}};s=n;for(id in t)SHR.TrkLib.GA4EnhIDs.indexOf(t[id])===-1&&(jQuery.merge(h,[t[id]]),SHR.TrkLib.GA4EnhIDs.push(t[id]));i&&i.length>0&&jQuery.merge(c,i);r&&(f=jQuery.extend(f,r));h=SHR.TrkLib.arrayUnique(h);c=SHR.TrkLib.arrayUnique(c);jQuery(document).on("wsTrackBegin",function(){if(s&&typeof s=="string"&&s.trim().length!==0){s=s.trim();var n=0;if(h.length===0)window[s]=window[s]||[],o("js",new Date),l();else{if(u!==!0){while(window.hasOwnProperty(s))n++,n==1?s+="_"+n:s.replace(/[0-9]*$/,n);window[s]=[]}(function(n,t,i,r,u){if(n[r]=n[r]||[],WSCCONSENT&&WsVars.EnableCookieConsent=="true"&&typeof n[r].find(n=>n[0]=="consent"&&n[1]=="update")=="undefined"){let t="denied",u="denied",i="denied",f="default";typeof n[r].find(n=>n[0]=="consent"&&n[1]=="default")!="undefined"&&(f="update");WSCCONSENT.hasOwnProperty("Consented")&&WSCCONSENT.Consented("Analytics")&&(u="granted");WSCCONSENT.hasOwnProperty("Consented")&&WSCCONSENT.Consented("Advertising")&&(t="granted");WSCCONSENT.hasOwnProperty("Consented")&&WSCCONSENT.Consented("Functional")&&(i="granted");o("consent",f,{ad_storage:t,ad_user_data:t,ad_personalization:t,analytics_storage:u,functionality_storage:i,personalization_storage:i,security_storage:"granted",wait_for_update:1e3});o("set","ads_data_redaction",t!=="granted")}n[r].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var e=t.getElementsByTagName(i)[0],f=t.createElement(i),s=r!="dataLayer"?"&l="+r:"";f.async=!0;f.src="https://www.googletagmanager.com/gtag/js?id="+u+s;e.parentNode.insertBefore(f,e)})(window,document,"script",s,h[0]);o("js",new Date);for(z in h)l(h[z],!0)}jQuery(document).on("wsTrackConfirmItem",function(n,t){jQuery(document).on("wsTrackEnd",function(){o("event","Confirm",{event_category:"Booking",event_label:t.CrsID})})});jQuery(document).on("wsTrackCancelItem",function(n,t){jQuery(document).on("wsTrackEnd",function(){o("event","Cancel",{event_category:"Booking",event_label:t.CrsID})})});jQuery(document).on("wsTrackDefault",function(){jQuery(document).on("wsTrackEnd",function(){o("event","MultiProperty",{event_category:"Browse"})})});jQuery(document).on("wsTrackIndex",function(){jQuery(document).on("wsTrackEnd",function(){o("event","Landing",{event_category:"Browse"})})});jQuery(document).on("wsTrackDetail",function(){jQuery(document).on("wsTrackEnd",function(){o("event","Detail",{event_category:"Browse"})})});jQuery(document).on("wsTrackCart",function(){jQuery(document).on("wsTrackEnd",function(){o("event","Cart",{event_category:"Booking"})})});jQuery(document).on("wsTrackCheckout",function(){jQuery(document).on("wsTrackEnd",function(){o("event","Checkout",{event_category:"Booking"})})});jQuery(document).on("wsTrackResLookup",function(){jQuery(document).on("wsTrackEnd",function(){o("event","Lookup",{event_category:"Booking"})})});jQuery(document).on("wsPreAvailabilityRequest",function(n,t){e.SendEvent("search",t)});jQuery(document).on("wsPostAvailabilityResponse",function(){});jQuery(document).on("wsViewItem",function(n,t){e.SendEvent("view_item",t)});jQuery(document).on("wsViewItemList",function(n,t){e.SendEvent("view_item_list",t)});jQuery(document).on("wsSelectItem",function(n,t){e.SendEvent("select_item",t)});jQuery(document).on("wsSelectPromotion",function(n,t,i){e.SendEvent("select_promotion",t,i)});jQuery(document).on("wsAddToCart",function(n,t){e.SendEvent("add_to_cart",t)});jQuery(document).on("wsRemoveFromCart",function(n,t){e.SendEvent("remove_from_cart",t)});jQuery(document).on("wsViewCart",function(n,t){e.SendEvent("view_cart",t)});jQuery(document).on("wsTrackPurchase",function(n,t){e.SendEvent("purchase",t)});jQuery(document).on("wsTrackRefund",function(n,t){e.SendEvent("refund",t)});jQuery(document).on("wsLogin",function(n,t){e.SendEvent("login",t)});jQuery(document).on("wsSignUp",function(n,t){e.SendEvent("sign_up",t)});jQuery(document).on("wsSpendVirtualCurrency",function(n,t){e.SendEvent("spend_virtual_currency",t)})}});return this},function(n,t){var u=function(n){return t.hasOwnProperty(n)?t[n]:n},i=[],r=["windsurfercrs.com","windsurfercrs.net","maverickcrm.com"];n(document).on("wsTrackInitItem",function(t,f){if(f.ExtSiteID===8){var e=f.Code.replace(/[ ;,\t|]/g," ").replace(/ +/g," ").replace(/^\s+|\s+$/g,"").split(" "),o=f.Param1.replace(/[ ;,\t|]/g," ").replace(/ +/g," ").replace(/^\s+|\s+$/g,"").split(" ");for(z in e)n.merge(i,[u(e[z])]);n.merge(r,o)}});jQuery(document).on("wsTrackInitEnd",function(){i=SHR.TrkLib.arrayUnique(i);r=SHR.TrkLib.arrayUnique(r);var n=new SHR.TrkLib.GA4Enh("shrDataLayer",i,r)})}(jQuery,{"UA-16119674-4":"G-YCBG4C3XDJ","UA-16119674-5":"G-CT0QPN69GB"}),function(){let n="_paq";_ptagItemArray=function(n){var t;if(!n.HotelID||!n.RoomCode||!n.RateCode)return[];var i=[],r=Number(n.Amt)/Number(n.Nights),u=[n.HotelID,n.RoomCode,n.RateCode,SHR.TrkLib.getDate(n.Dt1).replace(/-/g,""),n.Nights,SHR.TrkLib.getInt(n.Adults).toString()+"."+SHR.TrkLib.getInt(n.Child1).toString()+"."+SHR.TrkLib.getInt(n.Child2).toString()+"."+SHR.TrkLib.getInt(n.Child3).toString()+"."+SHR.TrkLib.getInt(n.Child4).toString()];u=u.join("_");i.push({id:u,name:n.HotelID+": "+n.RoomType+" @ "+n.RateType,list_name:"RoomStay",category:n.HotelID,brand:n.RoomCode,variant:n.RateCode,price:r,quantity:SHR.TrkLib.getInt(n.Nights),dimension1:WsVars.HotelName,dimension2:n.RoomType,dimension3:n.RateType,dimension4:SHR.TrkLib.getDate(n.Dt1),metric1:SHR.TrkLib.getInt(n.Nights),metric2:SHR.TrkLib.getInt(n.Adults),metric3:SHR.TrkLib.getInt(n.Child1)+SHR.TrkLib.getInt(n.Child2)+SHR.TrkLib.getInt(n.Child3)+SHR.TrkLib.getInt(n.Child4)});for(z in n.Svcs)(t=n.Svcs[z],t.HotelID&&t.SvcID)&&(r=Number(t.Amt)/Number(t.Qty),i.push({id:t.HotelID+"_"+t.SvcID,name:t.HotelID+": "+t.Name,list_name:"Addons",category:t.HotelID,brand:"Addon",variant:t.Name,price:r,quantity:SHR.TrkLib.getInt(t.Qty),dimension1:WsVars.HotelName,dimension2:"Addon",dimension3:t.Name,dimension4:SHR.TrkLib.getDate(t.Dates.length>0?t.Dates[0].Dt:n.Dt1),metric1:t.Dates.length,metric2:SHR.TrkLib.getInt(n.Adults),metric3:SHR.TrkLib.getInt(n.Child1)+SHR.TrkLib.getInt(n.Child2)+SHR.TrkLib.getInt(n.Child3)+SHR.TrkLib.getInt(n.Child4)}));return i};PAPurchaseItem=function(n){if(typeof n!==undefined&&n!=null){shrMatomoPush("setCustomDimension",8,n.hotelCode);shrMatomoPush("setCustomDimension",9,n.abSetting);let t=[],i=0,r=0,u=0,f="room_rate";typeof n.purchaseSvcs!="undefined"&&n.purchaseSvcs!=null&&n.purchaseSvcs.length>0&&(f+="_addons",n.purchaseSvcs.forEach(function(f){t.push(f.Name);i+=f.Amt;r+=f.Tax;f.Inc||(u+=f.Tax);n.ratePkgGrpSvcCode=f.Name.replace(/\s+/g,"");n.ratePkgGrpSvcName=f.Name;shrMatomoPush("addEcommerceItem",SHR.TrkLib.trkItemId(n),SHR.TrkLib.trkItemName(n),"AddOn",Utils.ToNumberFormat(i-r,n.currency),1)}));shrMatomoPush("addEcommerceItem",SHR.TrkLib.trkItemId(n),SHR.TrkLib.trkItemName(n),n.category,Utils.ToNumberFormat(n.price,n.currency),1);shrMatomoPush("trackEcommerceOrder",n.crsID,Utils.ToNumberFormat((n.subTotal+Math.abs(n.discount))/100,n.currency),Utils.ToNumberFormat((n.subTotal+Math.abs(n.discount))/100,n.currency),Utils.ToNumberFormat((n.tax+u)/100,n.currency),0,Math.abs(n.discount)/100);shrMatomoPush("trackEvent","Booking","purchase",f,(n.subTotal+Math.abs(n.discount))/100,{dimension1:n.hotelCode,dimension2:n.roomName,dimension3:GetDimension3Value(n),dimension4:n.dt1,dimension5:"|"+SHR.TrkLib.arrayUnique(t).join("|")+"|",dimension6:n.abSetting,dimension7:n.nights})}};PARefundItem=function(n){if(typeof n!==undefined&&n!=null){shrMatomoPush("setCustomDimension",8,n.hotelCode);shrMatomoPush("setCustomDimension",9,n.abSetting);let t=[],r=0,u=0,i="room_rate";typeof n.purchaseSvcs!="undefined"&&n.purchaseSvcs!=null&&n.purchaseSvcs.length>0&&(i+="_addons",n.purchaseSvcs.forEach(function(i){t.push(i.Name);r+=i.Amt;u+=i.Tax;n.ratePkgGrpSvcCode=i.Name.replace(/\s+/g,"");n.ratePkgGrpSvcName=i.Name}));shrMatomoPush("trackEvent","Booking","refund",i,(n.subTotal+Math.abs(n.discount))/100,{dimension1:n.hotelCode,dimension2:n.roomName,dimension3:GetDimension3Value(n),dimension4:n.dt1,dimension5:"|"+SHR.TrkLib.arrayUnique(t).join("|")+"|",dimension6:n.abSetting,dimension7:n.nights})}};PASearch=function(n){shrMatomoPush("trackSiteSearch",Utils.Format("hotelcode:{0},checkin:{1},checkout:{2},nights:{3},adults:{4},child1:{5},child2:{6},child3:{7},child4:{8},coupon:{9}",n.hotelCode,SHR.TrkLib.getDate(n.checkInDate),SHR.TrkLib.getDate(n.checkOutDate),n.nights,SHR.TrkLib.getInt(n.adults),SHR.TrkLib.getInt(n.child1),SHR.TrkLib.getInt(n.child2),SHR.TrkLib.getInt(n.child3),SHR.TrkLib.getInt(n.child4),n.coupon),"Browse",!1)};PAViewItem=function(n){typeof n.eventItems!==undefined&&n.eventItems!=null&&(shrMatomoPush("setCustomDimension",8,n.hotelCode),shrMatomoPush("setCustomDimension",9,n.abSetting),n.eventItems.forEach(function(t){shrMatomoPush("setEcommerceView",SHR.TrkLib.trkItemId(t),SHR.TrkLib.trkItemName(t),t.category,t.price);shrMatomoPush("trackEvent","Browse","view_item",t.itemListId,0,{dimension1:t.hotelCode,dimension2:t.roomName,dimension3:GetDimension3Value(t),dimension4:SHR.TrkLib.getDate(t.dt1),dimension6:n.abSetting,dimension7:t.nights})}))};PAViewItemList=function(n){typeof n.data!==undefined&&n.data!=null&&(shrMatomoPush("setCustomDimension",8,n.hotelCode),shrMatomoPush("setCustomDimension",9,n.abSetting),n.data.forEach(function(t){shrMatomoPush("setEcommerceView",SHR.TrkLib.trkItemId(t),SHR.TrkLib.trkItemName(t),t.category,t.price);shrMatomoPush("trackEvent","Browse","view_item_list",n.itemListId,0,{dimension1:t.hotelCode,dimension2:t.roomName,dimension3:GetDimension3Value(t),dimension4:SHR.TrkLib.getDate(t.dt1),dimension6:t.abSetting,dimension7:t.nights})}))};PASelectItem=function(n){let t=Number(n.price,n.currency);shrMatomoPush("setCustomDimension",8,n.hotelCode);shrMatomoPush("setCustomDimension",9,n.abSetting);shrMatomoPush("trackEvent","Browse","select_item",n.itemListId,0,{dimension1:n.hotelCode,dimension4:SHR.TrkLib.getDate(n.dt1),dimension2:n.roomName,dimension3:GetDimension3Value(n),dimension6:n.abSetting,dimension7:n.nights});shrMatomoPush("setEcommerceView",SHR.TrkLib.trkItemId(n),SHR.TrkLib.trkItemName(n),n.category,t,n.nights)};PASelectPromotion=function(n){shrMatomoPush("setEcommerceView",SHR.TrkLib.trkItemId(n),SHR.TrkLib.trkItemName(n),n.category,n.price,n.nights)};PAAddToCart=function(n){shrMatomoPush("setCustomDimension",8,n.hotelCode);shrMatomoPush("setCustomDimension",9,n.abSetting);shrMatomoPush("trackEvent","Browse","add_to_cart",n.itemListId,0,{dimension1:n.hotelCode,dimension2:n.roomName,dimension3:GetDimension3Value(n),dimension4:SHR.TrkLib.getDate(n.dt1),dimension6:n.abSetting,dimension7:n.nights});shrMatomoPush("addEcommerceItem",SHR.TrkLib.trkItemId(n),SHR.TrkLib.trkItemName(n),n.category,Utils.ToNumberFormat(n.price,n.currency),1);shrMatomoPush("trackEcommerceCartUpdate",n.totalprice!=undefined?Utils.ToNumberFormat(n.totalprice,n.currency):Utils.ToNumberFormat(n.price,n.currency))};PARemoveFromCart=function(n){shrMatomoPush("setCustomDimension",8,n.hotelCode);shrMatomoPush("setCustomDimension",9,n.abSetting);shrMatomoPush("trackEvent","Browse","remove_from_cart",n.itemListId,0,{dimension1:n.hotelCode,dimension2:n.roomName,dimension3:GetDimension3Value(n),dimension4:SHR.TrkLib.getDate(n.dt1),dimension6:n.abSetting,dimension7:n.nights});shrMatomoPush("removeEcommerceItem",SHR.TrkLib.trkItemId(n));shrMatomoPush("trackEcommerceCartUpdate",Utils.ToNumberFormat(n.price,n.currency))};PAViewCart=function(n){if(typeof n.data!==undefined&&n.data!=null){let t=[],i=0,r=0;shrMatomoPush("setCustomDimension",8,n.hotelCode);shrMatomoPush("setCustomDimension",9,n.abSetting);n.data.forEach(function(u){typeof u.svcs!="undefined"&&u.svcs!=null&&u.svcs.length>0&&u.svcs.forEach(function(n){t.push(n.Name);i+=n.Amt;r+=n.Taxes});shrMatomoPush("setEcommerceView",SHR.TrkLib.trkItemId(u),SHR.TrkLib.trkItemName(u),"cart_room_rate",Utils.ToNumberFormat(u.price+i+r,u.currency));shrMatomoPush("trackEvent","Browse","view_cart",n.itemListId,0,{dimension1:u.hotelCode,dimension2:u.roomName,dimension3:GetDimension3Value(u),dimension4:u.dt1,dimension5:"|"+SHR.TrkLib.arrayUnique(t).join("|")+"|",dimension6:u.abSetting,dimension7:u.nights})})}};GetDimension3Value=function(n){let t="";return n.rateName!=""&&typeof n.rateName!="undefined"?t=n.rateName:n.pkgName!=""&&typeof n.pkgName!="undefined"?t=n.pkgName:n.grpName!=""&&typeof n.grpName!="undefined"?t=n.grpName:n.svcName!=""&&typeof n.svcName!="undefined"&&(t=n.svcName),t};BuildDimensionData=function(n){let t=[];return typeof n!="undefined"&&(typeof n.hotelCode!="undefined"&&n.hotelCode!=null&&n.hotelCode!=""?t.push({dimension1:n.hotelCode}):WsVars&&WsVars.PCode!=""&&t.push({dimension1:WsVars.PCode}),typeof n.roomName!="undefined"&&n.roomName!=null&&n.roomName!=""?t.push({dimension2:n.roomName}):typeof n.RoomType!="undefined"&&n.RoomType!=null&&n.RoomType!=""&&t.push({dimension2:n.RoomType}),typeof n.rateName!="undefined"&&n.rateName!=null&&n.rateName!=""?t.push({dimension3:n.rateName}):typeof n.RateType!="undefined"&&n.RateType!=null&&n.RateType!=""&&t.push({dimension3:n.RateType}),typeof n.dt1!="undefined"&&n.dt1!=null&&n.dt1!=""?t.push({dimension4:SHR.TrkLib.getDate(n.dt1)}):typeof n.Dt1!="undefined"&&n.Dt1!=null&&n.Dt1!=""&&moment&&Utils&&t.push({dimension4:new moment(Utils.GetDateFromY2K(n.Dt1)).format("YYYY-MM-DD")}),typeof n.hgId!="undefined"&&n.hgId!==null&&n.hgId!==""&&(typeof n.hotelGroupCode!="undefined"&&n.hotelGroupCode!==null&&n.hotelGroupCode!==""?t.push({dimension8:n.hgId+","+n.hotelGroupCode}):t.push({dimension8:n.hgId}))),t};jQuery(document).on("wsTrackInitItem",function(t,i){if(i.ExtSiteID===13&&i.Code=="matomoSite"&&i.Param1!==null&&i.Param1!==""&&i.Param2!==null&&i.Param2!==""){var r=i.Param1.replace(/[ ;,\t|]/g," ").replace(/ +/g," ").replace(/^\s+|\s+$/g,""),u=i.Param2.replace(/[ ;,\t|]/g," ").replace(/ +/g," ").replace(/^\s+|\s+$/g,"");window.shrMatomoPush||(function(){window[n]=window[n]||[];WsVars&&WsVars.EnableCookieConsent=="true"&&(window[n].push(["requireCookieConsent"]),WSCCONSENT&&WSCCONSENT.hasOwnProperty("Consented")&&WSCCONSENT.Consented("Analytics")&&window[n].push(["setCookieConsentGiven"]));window[n].push(["enableLinkTracking"]),function(){var t="",f;if(r.startsWith("http"))t=r+"/";else if(r.startsWith("/"))f=window.location.origin,t=f.replace(/\/+$/,"")+r+"/";else return console.log("The SetUp is not done properly for Matomo Tracking"),!1;window[n].push(["setSiteId",u]);window[n].push(["setTrackerUrl",t+"matomo.php"]);var e=document,i=e.createElement("script"),o=e.getElementsByTagName("script")[0];i.async=!0;i.src=t+"matomo.js";o.parentNode.insertBefore(i,o)}()}(window,document,"script"),window.shrMatomoPush=function(){if(!WSCCONSENT||!WSCCONSENT.hasOwnProperty("Consented")||WSCCONSENT.Consented("Analytics")||WsVars.EnableCookieConsent!="true"){const n=Array.prototype.slice.call(arguments);window._paq.push(n)}});jQuery(document).on("wsTrackBegin",function(){jQuery(document).on("wsTrackConfirmItem",function(n,t){jQuery(document).on("wsTrackEnd",function(n,i){shrMatomoPush("trackPageView","Confirm - "+i.hotelName+" - "+t.CrsID,BuildDimensionData(t));shrMatomoPush("trackEvent","Booking","Confirm","CRSResvID",t.CrsID)})});jQuery(document).on("wsTrackCancelItem",function(n,t){jQuery(document).on("wsTrackEnd",function(n,i){shrMatomoPush("trackPageView","Cancel - "+i.hotelName+" - "+t.CrsID,BuildDimensionData(t));shrMatomoPush("trackEvent","Booking","Cancel","CRSResvID",t.CrsID)})});jQuery(document).on("wsPreAvailabilityRequest",function(n,t){PASearch(t)});jQuery(document).on("wsPostAvailabilityResponse",function(){});jQuery(document).on("wsViewItem",function(n,t){PAViewItem(t)});jQuery(document).on("wsViewItemList",function(n,t){PAViewItemList(t)});jQuery(document).on("wsSelectItem",function(n,t){PASelectItem(t)});jQuery(document).on("wsSelectPromotion",function(n,t){PASelectPromotion(t)});jQuery(document).on("wsAddToCart",function(n,t){PAAddToCart(t)});jQuery(document).on("wsRemoveFromCart",function(n,t){PARemoveFromCart(t)});jQuery(document).on("wsTrackDetail",function(){jQuery(document).on("wsTrackEnd",function(n,t){let i="";i=t.roomName!=""?t.roomName:t.pkgName!=""?t.pkgName:t.grpName!=""?t.grpName:t.rateName;shrMatomoPush("trackPageView","Detail - "+t.hotelName+" - "+i+"",BuildDimensionData(t));shrMatomoPush("trackEvent","Browse","Detail")})});jQuery(document).on("wsTrackDefault",function(){jQuery(document).on("wsTrackEnd",function(n,t){shrMatomoPush("trackPageView","Default - "+t.hgId+" - "+t.hotelGroupCode+"",BuildDimensionData(t));shrMatomoPush("trackEvent","Browse","Default")})});jQuery(document).on("wsTrackCartItem",function(n,t){jQuery(document).on("wsTrackEnd",function(n,i){WsVars.Step=="1"?(shrMatomoPush("trackPageView","Index - "+i.hotelName+"",BuildDimensionData(i)),shrMatomoPush("trackEvent","Browse","Landing")):WsVars.Step=="3"?(shrMatomoPush("trackPageView","Cart - "+i.hotelName+"",BuildDimensionData(t)),shrMatomoPush("trackEvent","Booking","view_cart")):WsVars.Step=="4"&&(shrMatomoPush("trackPageView","Checkout - "+i.hotelName+"",BuildDimensionData(t)),shrMatomoPush("trackEvent","Booking","Checkout"))})});jQuery(document).on("wsViewCart",function(n,t){PAViewCart(t)});jQuery(document).on("wsTrackPurchase",function(n,t){PAPurchaseItem(t)});jQuery(document).on("wsTrackRefund",function(n,t){PARefundItem(t)});jQuery(document).on("wsTrackResLookup",function(){jQuery(document).on("wsTrackEnd",function(n,t){shrMatomoPush("trackPageView","Confirm - "+t.hotelName+"",BuildDimensionData(t));shrMatomoPush("trackEvent","Booking","Lookup")})})})}})}();
//# sourceMappingURL=wstrk.min.js.map